# Telegram Watermark Bot

Этот проект — Telegram-бот для добавления водяного знака на изображения,
отправленные пользователем в виде файлов. Бот обрабатывает полученные
изображения, добавляет на них текст водяного знака и отправляет обратно
пользователю.

## Функциональность

- Получение изображений от пользователей в виде файлов.
- Наложение текстового водяного знака на изображение.
- Отправка изображения с водяным знаком обратно в виде файла.
- Поддержка изображений в форматах PNG и JPEG.

## Установка и настройка

1. **Клонируйте репозиторий:**

    ```bash
    git clone 
    cd telegram-watermark-bot
    ```

2. **Установите зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

3. **Настройте переменные окружения:**

   Создайте файл `.env` и добавьте в него ваш токен Telegram-бота:

    ```dotenv
    TELEGRAM_TOKEN=ваш_токен
    ```

4. **Запуск бота:**

    ```bash
    python bot.py
    ```

## Структура проекта

- `bot.py` — основной файл, запускающий бота и регистрирующий обработчики
  сообщений.
- `logger.py` — модуль для логирования событий и ошибок.
- `utils.py` — вспомогательные функции, включая отправку сообщений и добавление
  водяного знака.
- `temp/` — папка для временного хранения загружаемых и обрабатываемых
  изображений.

## Обработчики команд и сообщений

- `/start` — отправляет приветственное сообщение.
- Обработка документа (`document_handler`) — загружает файл, добавляет водяной
  знак и отправляет обработанный файл обратно пользователю.
- Обработка фото (`photo_handler`) — отправляет сообщение с просьбой загрузить
  изображение как файл (бот не обрабатывает фотографии, загруженные напрямую).

## Пример использования

1. Пользователь отправляет изображение в виде файла.
2. Бот отвечает: "ожидайте ⌛️".
3. Бот обрабатывает изображение и добавляет водяной знак.
4. Пользователь получает обработанный файл обратно в чат.

## Требования

- Python 3.7+
- Библиотеки из `requirements.txt`

## Логирование

Ошибки и события записываются в лог с использованием встроенного логгера.

## Лицензия

Этот проект распространяется под лицензией MIT.
